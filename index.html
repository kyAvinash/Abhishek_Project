<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor Prediction & Recommendations</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        .recommendation-box {
            display: none;
            margin-top: 20px;
        }
        .prediction-box {
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2 class="mt-5">Sensor Data Prediction & Recommendations</h2>
        
        <form id="sensorForm" class="mt-4">
            <div class="form-group">
                <label for="waterLevel">Water Level</label>
                <select class="form-control" id="waterLevel" required>
                    <option value="Empty">Empty</option>
                    <option value="Low">Low</option>
                    <option value="High">High</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="soilMoisture">Soil Moisture</label>
                <select class="form-control" id="soilMoisture" required>
                    <option value="Dry">Dry</option>
                    <option value="Medium">Medium</option>
                    <option value="Wet">Wet</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="gasStatus">Gas Status</label>
                <select class="form-control" id="gasStatus" required>
                    <option value="Safe">Safe</option>
                    <option value="LPG">LPG</option>
                    <option value="CO">CO</option>
                    <option value="Smoke">Smoke</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="temperature">Temperature</label>
                <input type="range" class="form-control" id="temperature" min="0" max="50" step="1" value="25">
                <span id="tempValue">Current Temperature: 25°C</span>
            </div>
            
            <button type="submit" class="btn btn-primary">Get Prediction</button>
        </form>

        <!-- Prediction Box -->
        <div id="predictionBox" class="prediction-box">
            <h3>Prediction Result</h3>
            <p><strong>Water Level:</strong> <span id="predictedWaterStatus"></span></p>
            <p><strong>Soil Moisture:</strong> <span id="predictedSoilMoisture"></span></p>
            <p><strong>Gas Status:</strong> <span id="predictedGasStatus"></span></p>
            <p><strong>Temperature:</strong> <span id="predictedTemperature"></span>°C</p>
            <p><strong>Model Prediction Result:</strong> <span id="modelPredictionResult"></span></p>
        </div>

        <!-- Recommendation Box -->
        <div id="suggestionBox" class="recommendation-box">
            <h4>Recommendation:</h4>
            <p id="recommendationMessage"></p>
        </div>
    </div>

    <script>
        // Get the temperature value
        const tempSlider = document.getElementById("temperature");
        const tempValue = document.getElementById("tempValue");
        tempSlider.oninput = function () {
            tempValue.innerText = "Current Temperature: " + tempSlider.value + "°C";
        };

        // Handle form submission for sensor data prediction
        document
            .getElementById("sensorForm")
            .addEventListener("submit", function (event) {
                event.preventDefault();

                // Get selected values
                const waterLevel = document.getElementById("waterLevel").value;
                const soilMoisture = document.getElementById("soilMoisture").value;
                const gasStatus = document.getElementById("gasStatus").value;
                const temperature = tempSlider.value;

                // Display the results
                document.getElementById("predictionBox").style.display = "block";
                document.getElementById("predictedWaterStatus").innerText = waterLevel;
                document.getElementById("predictedSoilMoisture").innerText = soilMoisture;
                document.getElementById("predictedGasStatus").innerText = gasStatus;
                document.getElementById("predictedTemperature").innerText = temperature;
                document.getElementById("modelPredictionResult").innerText =
                    "Prediction based on current data.";

                // Show farming recommendation
                let recommendationMessage = "";

                // Water level condition
                if (waterLevel === "Empty") {
                    recommendationMessage += "Water levels are critically low. Please refill immediately to avoid crop damage. ";
                } else if (waterLevel === "Low") {
                    recommendationMessage += "Water levels are low. Consider increasing water supply to prevent stress on the plants. ";
                } else if (waterLevel === "High") {
                    recommendationMessage += "Water levels are sufficient. Monitor to prevent flooding. ";
                }

                // Soil moisture condition
                if (soilMoisture === "Dry") {
                    recommendationMessage += "Soil moisture is low. Consider irrigating to prevent dehydration of plants. ";
                } else if (soilMoisture === "Medium") {
                    recommendationMessage += "Soil moisture is optimal. Maintain the current irrigation schedule. ";
                } else if (soilMoisture === "Wet") {
                    recommendationMessage += "Soil is overly wet. Ensure proper drainage to avoid root rot. ";
                }

                // Gas status condition
                if (gasStatus === "LPG") {
                    recommendationMessage += "Warning: LPG detected. Ensure proper ventilation and safety measures are in place. ";
                } else if (gasStatus === "CO") {
                    recommendationMessage += "Warning: Carbon monoxide detected. Ventilate the area immediately. ";
                } else if (gasStatus === "Smoke") {
                    recommendationMessage += "Warning: Smoke detected. Ensure all safety precautions are followed. ";
                } else if (gasStatus === "Safe") {
                    recommendationMessage += "Gas levels are safe. No immediate action required. ";
                }

                // Temperature condition
                if (temperature > 30) {
                    recommendationMessage += "The temperature is high. Consider providing shade or misting to prevent plant heat stress. ";
                } else if (temperature < 15) {
                    recommendationMessage += "The temperature is low. Ensure the environment remains warm enough for plant growth. ";
                } else {
                    recommendationMessage += "The temperature is optimal. Continue monitoring. ";
                }

                // Display the recommendation box
                document.getElementById("suggestionBox").style.display = "block";
                document.getElementById("recommendationMessage").innerText = recommendationMessage;
            });
    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
</html>
